<!DOCTYPE html>
<html>
  <head>
    <title>Post to API</title>
  </head>
  <body>
    <textarea id="inputText" rows="4" cols="50"></textarea>
    <br />
    <button onclick="postData()">Submit</button>

    <script>
      function postData() {
        // Get the input text from the textarea
        var inputText = document.getElementById("inputText").value;

        // Create an XMLHttpRequest object
        var xhr = new XMLHttpRequest();

        // Define the API endpoint URL
        var apiUrl = "http://localhost:5000/api/joke/"; // Replace with your actual API endpoint URL

        // Set the request method and URL
        xhr.open("POST", apiUrl, true);

        // Set the request headers (if needed)
        xhr.setRequestHeader("Content-Type", "application/json");

        // Set the callback function when the request completes
        xhr.onreadystatechange = function () {
          if (xhr.readyState === 4 && xhr.status === 200) {
            // Request was successful, handle the response here
            console.log(xhr.responseText);
          } else {
            // Request was not successful, handle the error here
            console.error(xhr.status);
          }
        };

        // Create a JSON object with the input text
        var data = JSON.stringify({ joke: inputText, lanfuage: "malayalam" });

        // Send the request with the JSON data
        xhr.send(data);
      }
    </script>
  </body>
</html>
